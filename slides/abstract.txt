Most quantum programming languages focus on quantum data with classical control flow. In contrast, the Quantum Control Machine is an instruction set architecture with control flow in superposition. However, the assembly-like, low-level syntax and inherent limitations result in complex programs. In turn, we formally define a high-level language with control flow primitives and its translation to an existing quantum programming language. Furthermore, we implement a corresponding compiler. This includes all steps from the lexical, syntactic, and semantic analysis to the code generation and optimization of the generated code.