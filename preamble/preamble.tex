\usepackage{ae}
\usepackage{array}
\usepackage{threeparttable}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{multicol}
\usepackage{rotating}
\usepackage{float}
\usepackage{listings}
\usepackage{lastpage}
\usepackage{dsfont}
\usepackage{amsmath, amssymb, amsfonts, amstext, xspace}
\usepackage{color}
\usepackage{xcolor}
\usepackage{transparent}
\usepackage{colortbl}
\usepackage{multirow}
\usepackage{caption}
\usepackage{epstopdf}
\usepackage{svg}
% \usepackage{subfig}
\usepackage{fp}
\usepackage{mathtools}
\usepackage{longtable}
\usepackage[toc]{appendix}
\usepackage{tabularx}
\usepackage{anyfontsize}
\usepackage{pdfpages}
\usepackage{xargs}   
\usepackage{tikz}

\usepackage{physics}

\usepackage{subcaption}

%\usepackage{minted}
% adapt title and author
\usepackage{titling} % https://tex.stackexchange.com/questions/27710/how-can-i-use-author-date-and-title-after-maketitle

\usepackage[pdftitle={},pdfsubject={},pdfauthor={}]{hyperref}

\input{../preamble/config}


% Defining colors:
\definecolor{grey}{rgb}{0.8,0.8,0.8}
\definecolor{red}{rgb}{1,0,0}
\definecolor{green}{rgb}{0,1,0}
\definecolor{yellow}{rgb}{1,1,0}
\definecolor{lightblue}{rgb}{0,0,0.5}
\definecolor{lightgray}{rgb}{.95,.95,.95}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}

\definecolor{ao(english)}{rgb}{0.0, 0.5, 0.0}
\definecolor{applegreen}{rgb}{0.55, 0.71, 0.0}
\definecolor{ferngreen}{rgb}{0.31, 0.47, 0.26}
\definecolor{commentgreen}{rgb}{0.42, 0.7, 0.2}
% \definecolor{commentgreen}{rgb}{0.42, 0.46, 0.2}




\addtolength{\evensidemargin}{-7mm}\addtolength{\oddsidemargin}{7mm}
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}
% \captionsetup[subfloat]{font=scriptsize, labelformat=parens, labelsep=space, listofformat=subparens}

\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}


\newcommand{\blankpage}{
	% \ifdefined\PROPOSAL{}
	% \else
		\newpage
		\thispagestyle{empty}
		\mbox{}
		\newpage
	% \fi
}
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;}

\graphicspath{{../figures/}}

% # TODO: Possibly use minted (https://github.com/gpoore/minted) for better code blocks and syntax highlighting

\lstloadlanguages{C,C++,csh,Java}
\lstset{
	language=csh,
	basicstyle=\footnotesize\ttfamily,
	numbers=left,
	numberstyle=\tiny,
	numbersep=5pt,
	tabsize=2,
	extendedchars=true,
	breaklines=true,
	frame=tlrb,
	stringstyle=\color{blue}\ttfamily,
	showspaces=false,
	showtabs=false,
	framexleftmargin=17pt,
	framexrightmargin=5pt,
	framexbottommargin=4pt,
	xleftmargin=.2\textwidth,
	xrightmargin=.2\textwidth,
	commentstyle=\color{green},
	morecomment=[l]{//}, %use comment-line-style!
	morecomment=[s]{/*}{*/}, %for multiline comments
	showstringspaces=false,
	morekeywords={ abstract, event, new, struct,
		async, await,
		as, explicit, null, switch,
		base, extern, object, this,
		bool, false, operator, throw,
		break, finally, out, true,
		byte, fixed, override, try,
		case, float, params, typeof,
		catch, for, private, uint,
		char, foreach, protected, ulong,
		checked, goto, public, unchecked,
		class, if, readonly, unsafe,
		const, implicit, ref, ushort,
		continue, in, return, using,
		decimal, int, sbyte, virtual,
		default, interface, sealed, volatile,
		delegate, internal, short, void,
		do, is, sizeof, while,
		double, lock, stackalloc,
		else, long, static,
		enum, namespace, string},
	keywordstyle=\color{cyan},
}

\lstdefinestyle{ANTLR}{
    % basicstyle=\small\ttfamily\color{magenta},%
    breaklines=true,%                                      allow line breaks
    moredelim=[s][\color{green!50!black}\ttfamily]{'}{'},% single quotes in green
    moredelim=*[s][\color{black}\ttfamily]{options}{\}},%  options in black (until trailing })
    commentstyle={\color{gray}\itshape},%                  gray italics for comments
    morecomment=[l]{//},%                                  define // comment
    emph={%
        STRING%                                            literal strings listed here
        },emphstyle={\color{blue}\ttfamily},%              and formatted in blue
    alsoletter={:,|,;},%
    morekeywords={:,|,;},%                                 define the special characters
    keywordstyle={\color{black}},%                         and format them in black
	framexleftmargin=17pt,                   % Extra margin on the left
	framexrightmargin=5pt,                   % Extra margin on the right
	framexbottommargin=4pt,                  % Extra margin at the bottom
	xleftmargin=.05\textwidth,                % Left margin
	xrightmargin=.05\textwidth,               % Right margin
}

\lstdefinestyle{QCM}{
    breaklines=true,%                                      allow line breaks
    moredelim=[s][\color{green!50!black}\ttfamily]{'}{'},% single quotes in green
    moredelim=*[s][\color{black}\ttfamily]{options}{\}},%  options in black (until trailing })
    commentstyle={\color{gray}\itshape},%                  gray italics for comments
    morecomment=[l]{;},%                                  define // comment
    emph={%
		l1, l2, l3, l4, l5, l6, l7, l8, 
		rl1, rl2, rl3, rl4, rl5, rl6, rl7, rl8%                                         literal strings listed here
        },emphstyle={\color{red}\ttfamily},%              and formatted in blue
    alsoletter={|,;},%
    morekeywords={add, rjne, jz, jg, mul, jmp, rjmp, nop, rjle, radd},%                                 define the special characters
    keywordstyle={\color{blue}},%                         and format them in black
}

\lstdefinestyle{QASM}{                 
	basicstyle=\footnotesize\ttfamily,       % Basic font style
	numbers=left,                            % Line numbers on the left
	numberstyle=\tiny,                       % Style of line numbers
	numbersep=5pt,                           % Distance of line numbers from code
	tabsize=2,                               % Tab size
	extendedchars=true,                      % Allow extended characters
	breaklines=true,                         % Break long lines
	frame=tlrb,                              % Frame around the listing
	stringstyle=\color{blue}\ttfamily,       % Style for strings
	showspaces=false,                        % Do not show spaces
	showtabs=false,                          % Do not show tabs
	framexleftmargin=17pt,                   % Extra margin on the left
	framexrightmargin=5pt,                   % Extra margin on the right
	framexbottommargin=4pt,                  % Extra margin at the bottom
	xleftmargin=.05\textwidth,                % Left margin
	xrightmargin=.05\textwidth,               % Right margin
	commentstyle=\color{commentgreen},              % Style for comments
	morecomment=[l]{//},                     % Line comment style
	morecomment=[s]{/*}{*/},                 % Multiline comment style
	showstringspaces=false,                  % Do not mark string spaces
	morekeywords={qreg, creg, gate, measure, reset, barrier,                 % QASM 2.0 keywords
				if, cx, u3, u2, u1, h, x, y, z, s, sdg, t, tdg, rx, ry, rz, % Quantum gates
				input, output, bit, bool, const, int, uint, float, angle, duration, 
				qubit, array, int, stretch, qubit, uint, box, ctrl, negctrl, 
				return, for, while, end, break, continue, do, def, kernel, 
				const, stretch, delay, gate, qubit, measure, measure_all},  % OpenQASM 3 new keywords
	keywordstyle=\color{cyan},               % Style for quantum keywords
}

\lstdefinestyle{Luie}{                 
	basicstyle=\footnotesize\ttfamily,       % Basic font style
	numbers=left,                            % Line numbers on the left
	numberstyle=\tiny,                       % Style of line numbers
	numbersep=5pt,                           % Distance of line numbers from code
	tabsize=2,                               % Tab size
	extendedchars=true,                      % Allow extended characters
	breaklines=true,                         % Break long lines
	frame=tlrb,                              % Frame around the listing
	stringstyle=\color{blue}\ttfamily,       % Style for strings
	showspaces=false,                        % Do not show spaces
	showtabs=false,                          % Do not show tabs
	framexleftmargin=17pt,                   % Extra margin on the left
	framexrightmargin=5pt,                   % Extra margin on the right
	framexbottommargin=4pt,                  % Extra margin at the bottom
	xleftmargin=.05\textwidth,                % Left margin
	xrightmargin=.05\textwidth,               % Right margin
	commentstyle=\color{commentgreen},              % Style for comments
	morecomment=[l]{//},                     % Line comment style
	morecomment=[s]{/*}{*/},                 % Multiline comment style
	showstringspaces=false,                  % Do not mark string spaces
	morekeywords= {
		gate, measure, reset, barrier,                 % QASM 2.0 keywords
		qif, cx, h, x, y, z, s, t, rx, ry, rz, % Quantum gates
		const, 
		sizeof, power, range, in,
		qubit, register, ctrl, negctrl, 
		for, while, end, do, def, kernel, 
		measure
	},  % OpenQASM 3 new keywords
	keywordstyle=\color{cyan},               % Style for quantum keywords
}

\lstdefinestyle{bashstyle}{
    language=bash,
    basicstyle=\ttfamily\small,        % Font style and size
    keywordstyle=\color{blue},         % Keywords like 'if', 'else'
    stringstyle=\color{green!60!black}, % Strings in commands
    commentstyle=\color{gray},         % Comments
    showstringspaces=false,            % Don't show spaces in strings
    frame=single,                      % Frame around the code
    framerule=0.5pt,                   % Thickness of frame
    tabsize=4,                         % Tab size
    breaklines=false,                   % Line breaking if long
    captionpos=b,                      % Caption position at the bottom
    numbers=left,                      % Line numbers on the left
    numberstyle=\tiny\color{gray},     % Style of line numbers
	framexleftmargin=17pt,                   % Extra margin on the left
	framexrightmargin=5pt,                   % Extra margin on the right
	framexbottommargin=4pt,                  % Extra margin at the bottom
	xleftmargin=.05\textwidth,                % Left margin
	xrightmargin=.05\textwidth,               % Right margin
	morekeywords= {
		input, output, verbose, optimization
	}
}


\usepackage[loadshadowlibrary,colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\newcommandx{\unsure}[2][1=]{\todo[shadow, linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommandx{\change}[2][1=]{\todo[shadow, linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\info}[2][1=]{\todo[shadow, linecolor=green,backgroundcolor=green!25,bordercolor=green,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[shadow, linecolor=violet,backgroundcolor=violet!25,bordercolor=violet,#1]{#2}}
\newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#1]{#2}}
% commands: \unsure, \info, \change, \improvement, \thiswillnotshow; can have attribute [inline]


\newcommand*{\eg}{e.g.\@\xspace}
\newcommand*{\ie}{i.e.\@\xspace}

\usepackage{qcircuit}

% footnotes in tabular & table environment=
\usepackage{footnote}
\makesavenoteenv{tabular}
\makesavenoteenv{table}

% Overwrite doi command to include hyperlink
\newcommand*{\doi}[1]{\href{http://dx.doi.org/#1}{doi: #1}}


\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}